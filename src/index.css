@tailwind base;
@tailwind components;
@tailwind utilities;

/* CBT 情绪急救工具 - 设计系统 */

@layer base {
  :root {
    /* 主色调 */
    --background: 60 20% 98%; /* 米白/奶油色 #FAF9F6 */
    --foreground: 0 0% 23%; /* 炭灰色 #3A3A3A */

    /* 鼠尾草绿 - Step 1 */
    --sage: 95 22% 61%; /* #9CAF88 */
    --sage-foreground: 0 0% 100%;
    --sage-light: 95 22% 92%;

    /* 天空蓝 - Step 2 */
    --sky: 200 40% 81%; /* #B8D4E3 */
    --sky-foreground: 0 0% 23%;
    --sky-light: 200 40% 94%;

    /* 薰衣草紫 - Step 3 */
    --lavender: 265 35% 80%; /* #C5B9E0 */
    --lavender-foreground: 0 0% 23%;
    --lavender-light: 265 35% 94%;

    /* 危机干预紫 */
    --crisis: 280 40% 75%;
    --crisis-foreground: 0 0% 100%;

    /* 语义化颜色 */
    --card: 0 0% 100%;
    --card-foreground: 0 0% 23%;

    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 23%;

    --primary: 95 22% 61%;
    --primary-foreground: 0 0% 100%;

    --secondary: 200 40% 81%;
    --secondary-foreground: 0 0% 23%;

    --muted: 60 10% 94%;
    --muted-foreground: 0 0% 45%;

    --accent: 265 35% 80%;
    --accent-foreground: 0 0% 23%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    --border: 60 10% 88%;
    --input: 60 10% 88%;
    --ring: 95 22% 61%;

    --radius: 1.5rem;

    --sidebar-background: 60 20% 98%;
    --sidebar-foreground: 0 0% 23%;
    --sidebar-primary: 95 22% 61%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 60 10% 94%;
    --sidebar-accent-foreground: 0 0% 23%;
    --sidebar-border: 60 10% 88%;
    --sidebar-ring: 95 22% 61%;
  }

  .dark {
    --background: 0 0% 10%;
    --foreground: 60 10% 94%;

    --sage: 95 22% 45%;
    --sage-foreground: 0 0% 100%;
    --sage-light: 95 15% 20%;

    --sky: 200 35% 40%;
    --sky-foreground: 0 0% 100%;
    --sky-light: 200 25% 20%;

    --lavender: 265 30% 50%;
    --lavender-foreground: 0 0% 100%;
    --lavender-light: 265 20% 20%;

    --crisis: 280 35% 45%;
    --crisis-foreground: 0 0% 100%;

    --card: 0 0% 12%;
    --card-foreground: 60 10% 94%;

    --popover: 0 0% 12%;
    --popover-foreground: 60 10% 94%;

    --primary: 95 22% 55%;
    --primary-foreground: 0 0% 100%;

    --secondary: 200 35% 45%;
    --secondary-foreground: 0 0% 100%;

    --muted: 0 0% 18%;
    --muted-foreground: 60 5% 65%;

    --accent: 265 30% 55%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 62% 40%;
    --destructive-foreground: 0 0% 100%;

    --border: 0 0% 20%;
    --input: 0 0% 20%;
    --ring: 95 22% 55%;

    --sidebar-background: 0 0% 10%;
    --sidebar-foreground: 60 10% 94%;
    --sidebar-primary: 95 22% 55%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 0 0% 18%;
    --sidebar-accent-foreground: 60 10% 94%;
    --sidebar-border: 0 0% 20%;
    --sidebar-ring: 95 22% 55%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
  }
}

/* 毛玻璃效果 */
.glass {
  @apply backdrop-blur-md bg-white/70 dark:bg-black/50;
}

/* 涟漪动画 */
@keyframes ripple {
  to {
    transform: scale(4);
    opacity: 0;
  }
}

.ripple {
  position: absolute;
  border-radius: 50%;
  transform: scale(0);
  animation: ripple 0.6s linear;
  background-color: rgba(255, 255, 255, 0.4);
}

/* 步骤切换滑动动画 */
@keyframes slide-in-right {
  from {
    opacity: 0;
    transform: translateX(30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slide-out-left {
  from {
    opacity: 1;
    transform: translateX(0);
  }
  to {
    opacity: 0;
    transform: translateX(-30px);
  }
}

.animate-slide-in {
  animation: slide-in-right 0.4s ease-out forwards;
}

.animate-slide-out {
  animation: slide-out-left 0.3s ease-out forwards;
}

/* 打字机光标 */
@keyframes blink {
  0%, 50% {
    opacity: 1;
  }
  51%, 100% {
    opacity: 0;
  }
}

.typing-cursor::after {
  content: '|';
  animation: blink 1s infinite;
  margin-left: 2px;
}

/* 情绪按钮选中缩放 */
@keyframes pop {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.1);
  }
  100% {
    transform: scale(1);
  }
}

.animate-pop {
  animation: pop 0.3s ease-out;
}

/* 温度计渐变 */
.thermometer-gradient {
  background: linear-gradient(
    to right,
    hsl(95 22% 61%),
    hsl(200 40% 81%),
    hsl(265 35% 80%)
  );
}

/* 柔和阴影 */
.soft-shadow {
  box-shadow: 0 4px 20px -5px rgba(0, 0, 0, 0.08);
}

/* 情绪温度计轨道 */
.emotion-slider-track {
  background: linear-gradient(
    to right,
    hsl(95 22% 61%) 0%,
    hsl(60 50% 65%) 25%,
    hsl(30 60% 65%) 50%,
    hsl(0 60% 65%) 75%,
    hsl(265 35% 55%) 100%
  );
}
